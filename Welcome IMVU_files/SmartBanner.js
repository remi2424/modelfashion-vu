module({"css!/build/withme/SmartBanner.css":"css!/asset/d41d8cd98f00b204/build/withme/SmartBanner.css"},function(g){return function(){(function(){var f=function(b){this.origHtmlMargin=parseFloat($("html").css("margin-top"));this.options=$.extend({},$.smartbanner.defaults,b);b=navigator.standalone;var a=navigator.userAgent;this.options.force?this.type=this.options.force:null!==a.match(/Windows Phone/i)&&null!==a.match(/Edge|Touch/i)?this.type="windows":null!==a.match(/iPhone|iPod/i)||a.match(/iPad/)&&this.options.iOSUniversalApp?null!==a.match(/Safari/i)&&(null!==a.match(/CriOS/i)||6>window.Number(a.substr(a.indexOf("OS ")+3,3).replace("_",".")))&&(this.type="ios"):a.match(/\bSilk\/(.*\bMobile Safari\b)?/)||a.match(/\bKF\w/)||a.match("Kindle Fire")?this.type="kindle":null!==a.match(/Android/i)&&(this.type="android");if(this.type&&!b&&!this.getCookie("sb-closed")&&!this.getCookie("sb-installed")&&(this.scale="auto"==this.options.scale?$(window).width()/window.screen.width:this.options.scale,1>this.scale&&(this.scale=1),b=$("android"==this.type?'meta[name="google-play-app"]':"ios"==this.type?'meta[name="apple-itunes-app"]':"kindle"==this.type?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]'),0!==b.length)){if("windows"==this.type)this.appId=$('meta[name="msApplication-PackageFamilyName"]').attr("content");else if(a=/app-id=([^\s,]+)/.exec(b.attr("content")))this.appId=a[1];else return;this.title=this.options.title?this.options.title:b.data("title")||$("title").text().replace(/\s*[|\-\u00b7].*$/,"");this.author=this.options.author?this.options.author:b.data("author")||($('meta[name="author"]').length?$('meta[name="author"]').attr("content"):window.location.hostname);this.iconUrl=b.data("icon-url");this.price=b.data("price");this.options.onInstall="function"===typeof this.options.onInstall?this.options.onInstall:function(){};this.options.onClose="function"===typeof this.options.onClose?this.options.onClose:function(){};this.create();this.show();this.listen()}};f.prototype={constructor:f,create:function(){var b=this.options.url?this.options.url:("windows"==this.type?"ms-windows-store:navigate?appid=":"android"==this.type?"market://details?id=":"kindle"==this.type?"amzn://apps/android?asin=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,a=this.price||this.options.price,c=a?" - "+("android"==this.type?this.options.inGooglePlay:"kindle"==this.type?this.options.inAmazonAppStore:"ios"==this.type?this.options.inAppStore:this.options.inWindowsStore):"",d=this.options.iconGloss;"android"==this.type&&this.options.GooglePlayParams&&(b=b+"&referrer="+this.options.GooglePlayParams);b='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" id="icon-dialog_close" viewBox="0 0 32 32"><path d="M15.998 0c-8.822 0-15.998 7.178-15.998 16s7.176 16 15.998 16c8.824 0 16-7.178 16-16s-7.176-16-16-16v0zM29.29 16c0 7.33-5.962 13.291-13.291 13.291-7.328 0-13.291-5.962-13.291-13.291 0-7.328 5.963-13.291 13.291-13.291 7.33 0 13.291 5.963 13.291 13.291zM22.668 10.116c-0.221-0.531-0.742-0.888-1.298-0.888-0.354 0-0.68 0.139-0.942 0.402l-4.43 4.43-4.429-4.43c-0.262-0.262-0.589-0.402-0.942-0.402-0.555 0-1.078 0.357-1.298 0.888-0.211 0.512-0.099 1.054 0.301 1.454l4.429 4.429-4.429 4.43c-0.4 0.398-0.512 0.942-0.301 1.453 0.219 0.531 0.741 0.89 1.298 0.89 0.354 0 0.68-0.139 0.942-0.403l4.429-4.429 4.43 4.429c0.262 0.264 0.589 0.403 0.942 0.403 0.555 0 1.078-0.357 1.298-0.89 0.213-0.51 0.099-1.054-0.301-1.453l-4.429-4.43 4.429-4.429c0.4-0.4 0.514-0.942 0.301-1.454z"></path></svg></a><span class="sb-icon"></span><span class="sb-info"><strong class="sb-title">'+this.title+"</strong><span><strong>"+a+"</strong>"+c+'</span><span class="sb-rating"><svg width="75" height="15" viewBox="0 0 75 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 0L9.18386 5.18237H14.6329L10.2245 8.38525L11.9084 13.5676L7.5 10.3647L3.09161 13.5676L4.77547 8.38525L0.367076 5.18237H5.81614L7.5 0Z" fill="#FFBB0D"/><path d="M22.5 0L24.1839 5.18237H29.6329L25.2245 8.38525L26.9084 13.5676L22.5 10.3647L18.0916 13.5676L19.7755 8.38525L15.3671 5.18237H20.8161L22.5 0Z" fill="#FFBB0D"/><path d="M37.5 0L39.1839 5.18237H44.6329L40.2245 8.38525L41.9084 13.5676L37.5 10.3647L33.0916 13.5676L34.7755 8.38525L30.3671 5.18237H35.8161L37.5 0Z" fill="#FFBB0D"/><path d="M52.5 0L54.1839 5.18237H59.6329L55.2245 8.38525L56.9084 13.5676L52.5 10.3647L48.0916 13.5676L49.7755 8.38525L45.3671 5.18237H50.8161L52.5 0Z" fill="#FFBB0D"/><path d="M67.5 0L69.1839 5.18237H74.6329L70.2245 8.38525L71.9084 13.5676L67.5 10.3647L63.0916 13.5676L64.7755 8.38525L60.3671 5.18237H65.8161L67.5 0Z" fill="#BBBBBB"/><path fill-rule="evenodd" clip-rule="evenodd" d="M64.0001 5.18237H60.3672L64.0001 7.82184V5.18237ZM64.0001 10.7719V12.9076L63.0917 13.5676L64.0001 10.7719Z" fill="#FFBB0D"/></svg></span></div><a href="'+b+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";this.options.layer?$(this.options.appendToSelector).append(b):$(this.options.appendToSelector).prepend(b);this.options.stateSelector||(this.options.stateSelector=$("#smartbanner"));if(this.options.icon)var e=this.options.icon;else this.iconUrl?e=this.iconUrl:0<$('link[rel="apple-touch-icon-precomposed"]').length?(e=$('link[rel="apple-touch-icon-precomposed"]').attr("href"),null===this.options.iconGloss&&(d=!1)):0<$('link[rel="apple-touch-icon"]').length?e=$('link[rel="apple-touch-icon"]').attr("href"):0<$('meta[name="msApplication-TileImage"]').length?e=$('meta[name="msApplication-TileImage"]').attr("content"):0<$('meta[name="msapplication-TileImage"]').length&&(e=$('meta[name="msapplication-TileImage"]').attr("content"));e?($("#smartbanner .sb-icon").css("background-image","url("+e+")"),d&&$("#smartbanner .sb-icon").addClass("gloss")):$("#smartbanner").addClass("no-icon");this.bannerHeight=$("#smartbanner").outerHeight()+2;1<this.scale&&($("#smartbanner").css("top",parseFloat($("#smartbanner").css("top"))*this.scale).css("height",parseFloat($("#smartbanner").css("height"))*this.scale).hide(),$("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",$(window).width()/this.scale));$("#smartbanner").css("position","absolute")},listen:function(){$("#smartbanner .sb-close").on("click",$.proxy(this.close,this));$("#smartbanner .sb-button").on("click",$.proxy(this.install,this))},show:function(b){var a=$("#smartbanner");a.stop();this.options.layer?(a.animate({top:0,display:"block"},this.options.speedIn).add(this.options.stateSelector).addClass("smartbanner-shown").show(),$(this.pushSelector).animate({paddingTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",b)):$.support.transition?(a.animate({top:0},this.options.speedIn).add(this.options.stateSelector).addClass("smartbanner-shown"),$(this.pushSelector).addClass("sb-animation").one($.support.transition.end,function(){$("html").removeClass("sb-animation");b&&b()}).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)):a.slideDown(this.options.speedIn).add(this.options.stateSelector).addClass("smartbanner-shown")},hide:function(b){var a=$("#smartbanner");a.stop();this.options.layer?(a.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).add(this.options.stateSelector).removeClass("smartbanner-shown"),$(this.pushSelector).animate({paddingTop:this.origHtmlMargin},this.options.speedIn,"swing",b)):$.support.transition?("android"!==this.type?a.css("top",-1*this.bannerHeight*this.scale).add(this.options.stateSelector).removeClass("smartbanner-shown"):a.css({display:"none"}).add(this.options.stateSelector).removeClass("smartbanner-shown"),$(this.pushSelector).addClass("sb-animation").one($.support.transition.end,function(){$("html").removeClass("sb-animation");b&&b()}).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)):a.slideUp(this.options.speedOut).add(this.options.stateSelector).removeClass("smartbanner-shown")},close:function(b){b.preventDefault();this.hide();this.setCookie("sb-closed","true",this.options.daysHidden);this.options.onClose(b)},install:function(b){this.options.hideOnInstall&&this.hide();this.setCookie("sb-installed","true",this.options.daysReminder);this.options.onInstall(b)},setCookie:function(b,a,c){var d=new Date;d.setDate(d.getDate()+c);a=encodeURI(a)+(null===c?"":"; expires="+d.toUTCString());document.cookie=b+"="+a+"; path=/;"},getCookie:function(b){var a,c=document.cookie.split(";");for(a=0;a<c.length;a++){var d=c[a].substr(0,c[a].indexOf("=")),e=c[a].substr(c[a].indexOf("=")+1);d=d.replace(/^\s+|\s+$/g,"");if(d==b)return decodeURI(e)}return null},switchType:function(){var b=this;this.hide(function(){b.type="android"==b.type?"ios":"android";var a=$("android"==b.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");b.appId=/app-id=([^\s,]+)/.exec(a)[1];$("#smartbanner").detach();b.create();b.show()})}};$.smartbanner=function(b){var a=$(window),c=a.data("smartbanner");c||a.data("smartbanner",c=new f("object"==typeof b&&b));if("string"==typeof b)c[b]()};$.smartbanner.defaults={title:"IMVU",author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body",pushSelector:"html"};$.smartbanner.Constructor=f;void 0===$.support.transition&&($.fn.emulateTransitionEnd=function(b){var a=!1,c=this;$(this).one($.support.transition.end,function(){a=!0});setTimeout(function(){a||$(c).trigger($.support.transition.end)},b);return this},$(function(){var b=$.support;a:{var a=document.createElement("smartbanner");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},d;for(d in c)if(void 0!==a.style[d]){a={end:c[d]};break a}a=!1}b.transition=a}))})()}({})});